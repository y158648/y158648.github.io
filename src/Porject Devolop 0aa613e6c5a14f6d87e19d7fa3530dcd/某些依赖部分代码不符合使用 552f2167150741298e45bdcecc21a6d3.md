# æŸäº›ä¾èµ–éƒ¨åˆ†ä»£ç ä¸ç¬¦åˆä½¿ç”¨

<aside>
ğŸ“– **èƒŒæ™¯**: æŸäº›ä¾èµ–çš„ä»£ç æœ‰é”™è¯¯æˆ–è€…ä¸åº”è¯¥å‡ºç°åœ¨å½“å‰é¡¹ç›®, æ¯”å¦‚å¯¹å¤–çš„é¡¹ç›®ä½¿ç”¨äº†å†…éƒ¨çš„æŸä¸ªåŒ…, è¿™ä¸ªåŒ…ä¸­çš„ä¸€äº›å­—ç¬¦ä¸²(æŠ¥é”™æç¤ºç­‰)å‡ºç°äº†å†…éƒ¨çš„ä¿¡æ¯.
è¿™ç§æƒ…å†µä¸‹, æœ€æ–¹ä¾¿çš„æ–¹å¼å°±æ˜¯ä¿®æ”¹ `node_modules` ä¸­çš„æºç 

</aside>

# **patch-package**

[GitHub - ds300/patch-package: Fix broken node modules instantly  ğŸƒğŸ½â€â™€ï¸ğŸ’¨](https://github.com/ds300/patch-package)

> `patch-package`Â lets app authors instantly make and keep fixes to npm dependencies. It's a vital band-aid for those of us living on the bleeding edge.
> 

# 1. How it works

å€ŸåŠ© `npm` çš„ `scripts` `postinstall` , å¯ä»¥åœ¨å®‰è£…å®Œæˆä¾èµ–ä¹‹åæ‰§è¡Œå‘½ä»¤å°†å¯¹ `node_modules` çš„æ”¹åŠ¨åº”ç”¨åˆ°å¯¹åº”åŒ…çš„æºç ä¹‹ä¸­.

`patch-package` æ‰€åšçš„å·¥ä½œæœ‰2ä¸ª:

1. è®°å½•å¯¹æºç çš„ä¿®æ”¹
2. åº”ç”¨å¯¹æºç çš„ä¿®æ”¹

# 2. Usage

1. npm i patch-package
2. ä¿®æ”¹ä¾èµ– `some-package` çš„æºç 
3. npx patch-package some-package
è¿™ä¸€æ­¥ `pack-package` ä¼šæ‹‰å– `some-package` æœ€æ–°çš„ä»£ç , diff, ç„¶ååœ¨ `patches` ç›®å½•ä¸‹ä¿å­˜ dif
4. é…ç½® `package.json`

```jsx
"scripts": {
   "postinstall": "patch-package"
 }
```

1. commit